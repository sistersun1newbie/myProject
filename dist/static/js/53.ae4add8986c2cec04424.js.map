{"version":3,"sources":["webpack:///static/js/53.ae4add8986c2cec04424.js","webpack:///./src/pages/components/myMap.vue?b731**","webpack:///./src/pages/components/myMap.vue","webpack:///./src/pages/components/myMap.vue?83bc**","webpack:///./src/pages/components/myMap.vue?33e7**","webpack:///./src/pages/components/myMap.vue?a5de**"],"names":["webpackJsonp","536","module","exports","__webpack_require__","Component","628","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1_vuex__","props","userList","type","Array","default","isShowLocation","Boolean","currentObj","msg","avatar","id","String","height","Number","data","map","marker","infoWindow","geocoder","userListMarker","singleMark","currentObjInfoWindow","input5","mounted","this","mapinit","computed","i","watch","currentObj.msg","console","log","flag","setMap","setSingleMark","showMap","markerInfo","setCenter","setPosition","geocod","arr","methods","_this","window","onMapReady","googleMap","Map","document","getElementById","center","mapCenter","zoom","Geocoder","InfoWindow","Marker","position","draggable","title","$t","addListener","markerDragend","open","getAddress","_this2","geocode","address","results","status","geometry","location","latLng","lat","lng","setInfoWin","formatted_address","alert","newobj","_this3","google","maps","obj","contentString","nikeName","close","content","setMarkList","e","lagLng","_this4","GeocoderStatus","OK","addr","str","setContent","updatedMarkerInfo","onMapClick","631","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","633","locals","635","render","_vm","_h","$createElement","_c","_self","staticStyle","staticClass","attrs","size","placeholder","model","callback","$$v","expression","icon","nativeOn","click","$event","slot","_e","_v","style","staticRenderFns"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAASC,GCDjCA,EAAA,IAEA,IAAAC,GAAAD,EAAA,KAEAA,EAAA,KAEAA,EAAA,KAEA,KAEA,KAGAF,GAAAC,QAAAE,EAAAF,SDUMG,IACA,SAAUJ,EAAQK,EAAqBH,GAE7C,YACAI,QAAOC,eAAeF,EAAqB,cAAgBG,OAAO,GAC7C,IAAIC,GAA8DP,EAAoB,IAClFQ,EAAsER,EAAoBS,EAAEF,GAC5FG,EAAqCV,EAAoB,IEZjFG,GAAA,SACCQ,OACCC,UACCC,KAAMC,MACNC,QAAS,WACR,WAGFC,gBACCH,KAAMI,QACNF,SAAS,GAEVG,YACCL,KAAMT,OACNW,QAAS,WACR,OACCI,IAAK,GACLC,OAAQ,MAKXC,IACCR,KAAMS,OACNP,QAAS,SAEVQ,QACCV,MAAOS,OAAQE,QACfT,QAAS,QAGXU,KA/Bc,WAgCb,OACCC,IAAK,KACLC,OAAQ,KACRC,WAAY,KACZC,SAAU,KACVC,kBACAC,WAAY,GACZC,qBAAsB,GACtBC,OAAQ,KAGVC,QA3Cc,WA4CbC,KAAKC,WAENC,SAAA7B,OACIR,EAAAsC,EAAA5B,EAAA,IACF,YACA,aACA,aAGF6B,OACCC,iBADM,WAKL,GADAC,QAAQC,IAAI,SAAUP,KAAKjB,WAAWyB,MACnCR,KAAKjB,WAAWyB,KAOlB,MANAF,SAAQC,IAAI,WAAYP,KAAKJ,YAC7BU,QAAQC,IAAI,WAAYP,KAAKT,KAE7BS,KAAKJ,YAAcI,KAAKJ,WAAWa,OAAO,MAC1CT,KAAKJ,WAAa,OAClBU,SAAQC,IAAI,WAAYP,KAAKJ,WAG9BI,MAAKU,cAAcV,KAAKjB,aAGzB4B,QAjBM,SAiBEH,GACJA,GAAQR,KAAKY,YAAcZ,KAAKT,KAAOS,KAAKR,SAC9CQ,KAAKT,IAAIsB,UAAUb,KAAKY,YACxBZ,KAAKR,OAAOsB,YAAYd,KAAKY,YAC7BZ,KAAKe,OAAOf,KAAKY,cAOnBnC,SA5BM,SA4BGuC,MA6BVC,QAAA5C,OACIR,EAAAsC,EAAA5B,EAAA,IACF,oBAAqB,mBAEtB0B,QAJD,WAIW,GAAAiB,GAAAlB,IACTmB,QAAOC,WAAW,SAAAC,GAEjBH,EAAK3B,IAAM,GAAI8B,GAAUC,IAAIC,SAASC,eAAeN,EAAKhC,KACzDuC,OAAQP,EAAKN,YAAcM,EAAKQ,UAChCC,KAAM,KAGPT,EAAKR,cAAcQ,EAAKnC,YACxBmC,EAAKxB,SAAW,GAAI2B,GAAUO,SAC3BV,EAAKrC,iBACPqC,EAAKzB,WAAa,GAAI4B,GAAUQ,WAChCX,EAAK1B,OAAS,GAAI6B,GAAUS,QAC3BC,SAAUb,EAAKN,YAAcM,EAAKQ,UAClCnC,IAAK2B,EAAK3B,IACVyC,WAAW,EACXC,MAAOf,EAAKgB,GAAG,oBAEhBhB,EAAKH,OAAOG,EAAKN,YAAcM,EAAKQ,WACpCR,EAAK1B,OAAO2C,YAAY,UAAWjB,EAAKkB,eAExClB,EAAK1B,OAAO2C,YAAY,QAAS,WAChCjB,EAAKzB,WAAW4C,KAAKnB,EAAK3B,IAAK2B,EAAK1B,cAMxC8C,WAhCD,WAgCc,GAAAC,GAAAvC,IAEI,KAAbA,KAAKF,QAERE,KAAKN,SAAS8C,SAAUC,QAAWzC,KAAKF,QAAU,SAAC4C,EAASC,GAC3D,GAAc,OAAXA,EAAiB,CAEnBJ,EAAKhD,IAAIsB,UAAU6B,EAAQ,GAAGE,SAASC,UACvCN,EAAK/C,OAAOsB,YAAY4B,EAAQ,GAAGE,SAASC,SAC5C,IAAIC,IACHC,IAAIL,EAAQ,GAAGE,SAASC,SAASE,MACjCC,IAAIN,EAAQ,GAAGE,SAASC,SAASG,MAElCT,GAAKU,WAAWH,EAAOJ,EAAQ,GAAGQ,mBAClC5C,QAAQC,IAAImC,OAEZS,OAAM,wDAA0DR,MAInEjC,cApDD,SAoDe0C,GAAQ,GAAAC,GAAArD,IAErB,IADAM,QAAQC,IAAI6C,GACRA,EAAOL,IAAX,CAGAzC,QAAQC,IAAI,gBAAiB6C,EAAOpE,KACpCsB,QAAQC,IAAI,kBAAmBP,KAAKH,qBAAuBG,KAAKH,uBAAyB,IAEzFG,KAAKT,IAAIsB,UAAUuC,EACnB,IAAM/B,GAAYiC,OAAOC,IACtBvD,MAAKJ,WACPI,KAAKJ,WAAWkB,YAAYsC,GAG5BpD,KAAKJ,WAAa,GAAIyB,GAAUS,QAC/BC,SAAUqB,EACV7D,IAAKS,KAAKT,IACV0C,MAAOjC,KAAKkC,GAAG,kBACfsB,IAAKJ,IAIP9C,QAAQC,IAAI,qBAAsBP,KAAKJ,WACvC,IAAI6D,mPAEwBL,EAAOnE,OAF/B,iEAEsGmE,EAAOM,SAF7G,oKAKDN,EAAOpE,IALN,cAM6B,MAA9BgB,KAAKH,uBACPS,QAAQC,IAAI,SAAUP,KAAKH,qBAAqB8D,OAChD3D,KAAKH,qBAAqB8D,SAE3B3D,KAAKH,qBAAuB,GAAIyD,QAAOC,KAAK1B,YAC3C+B,QAASH,IAEVzD,KAAKJ,YAAcI,KAAKJ,WAAWuC,YAAY,QAAS,WACvDkB,EAAKxD,qBAAqBwC,KAAKgB,EAAK9D,IAAK8D,EAAKzD,cAE/CI,KAAKH,qBAAqBwC,KAAKrC,KAAKT,IAAKS,KAAKJ,cAE/CiE,YA7FD,SA6Fa7C,KA+BZoB,cA5HD,SA4He0B,GACb,GAAIhB,IACHC,IAAKe,EAAEhB,OAAOC,MACdC,IAAKc,EAAEhB,OAAOE,MAEfhD,MAAKe,OAAO+B,IAGb/B,OApID,SAoIQgD,GAAQ,GAAAC,GAAAhE,IACdA,MAAKN,SAAS8C,SACbK,SAAYkB,GACV,SAACrB,EAASC,GACTA,IAAWW,OAAOC,KAAKU,eAAeC,GACrCxB,EAAQ,GACVsB,EAAKf,WAAWc,EAAQrB,EAAQ,GAAGQ,mBAEnC/B,OAAOgC,MAAM,oBAGdhC,OAAOgC,MAAM,2BAA6BR,MAI7CM,WAnJD,SAmJYc,EAAQI,GAClB,GAAIC,6EACyDpE,KAAKkC,GAAG,kBADjE,+CAE+BlC,KAAKkC,GAAG,oBAFvC,IAE8D6B,EAAOf,IAFrE,gDAG+BhD,KAAKkC,GAAG,mBAHvC,IAG6D6B,EAAOhB,IAHpE,gDAI+B/C,KAAKkC,GAAG,eAJvC,IAIyDiC,EAJzD,4CAMJnE,MAAKP,WAAW4E,WAAWD,GAC3BpE,KAAKP,WAAW4C,KAAKrC,KAAKT,IAAKS,KAAKR,QACpCQ,KAAKsE,mBACJvB,IAAKgB,EAAOhB,IACZC,IAAKe,EAAOf,IACZmB,KAAMA,KAGRI,WAlKD,SAkKYT,SFtDRU,IACA,SAAU7G,EAAQC,EAASC,GG/OjCD,EAAAD,EAAAC,QAAAC,EAAA,OAKAD,EAAA6G,MAAA9G,EAAAwC,EAAA,0GAA+H,IAAUuE,QAAA,EAAAC,SAAA,gGAAAC,SAAAC,SAAA,qEAA2MC,KAAA,YAAAC,gBAAA,2GAAkJC,WAAA,OHwPheC,IACA,SAAUtH,EAAQC,EAASC,GI3PjC,GAAA+F,GAAA/F,EAAA,IACA,iBAAA+F,SAAAjG,EAAAwC,EAAAyD,EAAA,MACAA,EAAAsB,SAAAvH,EAAAC,QAAAgG,EAAAsB,OAEArH,GAAA,gBAAA+F,GAAA,IJoQMuB,IACA,SAAUxH,EAAQC,GK5QxBD,EAAAC,SAAgBwH,OAAA,WAAmB,GAAAC,GAAArF,KAAasF,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,aACA3D,SAAA,cAEGsD,EAAA,eAAAG,EAAA,YACHG,YAAA,SACAC,OACAC,KAAA,QACAC,YAAAT,EAAAnD,GAAA,iBAEA6D,OACA5H,MAAAkH,EAAA,OACAW,SAAA,SAAAC,GACAZ,EAAAvF,OAAAmG,GAEAC,WAAA,YAEGV,EAAA,aACHI,OACAO,KAAA,UAEAC,UACAC,MAAA,SAAAC,GACAjB,EAAA/C,WAAAgE,KAGAC,KAAA,YACG,GAAAlB,EAAAmB,KAAAnB,EAAAoB,GAAA,KAAAjB,EAAA,OACHkB,OACAtH,OAAAiG,EAAAjG,OAAA,MAEAwG,OACA1G,GAAAmG,EAAAnG,OAEG,IACFyH","file":"static/js/53.ae4add8986c2cec04424.js","sourcesContent":["webpackJsonp([53],{\n\n/***/ 536:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(633)\n\nvar Component = __webpack_require__(221)(\n  /* script */\n  __webpack_require__(628),\n  /* template */\n  __webpack_require__(635),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 628:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(43);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(146);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\tprops: {\n\t\tuserList: {\n\t\t\ttype: Array,\n\t\t\tdefault: function _default() {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t},\n\t\tisShowLocation: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tcurrentObj: {\n\t\t\ttype: Object,\n\t\t\tdefault: function _default() {\n\t\t\t\treturn {\n\t\t\t\t\tmsg: '',\n\t\t\t\t\tavatar: ''\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\n\t\tid: {\n\t\t\ttype: String,\n\t\t\tdefault: 'myMap'\n\t\t},\n\t\theight: {\n\t\t\ttype: [String, Number],\n\t\t\tdefault: '500'\n\t\t}\n\t},\n\tdata: function data() {\n\t\treturn {\n\t\t\tmap: null,\n\t\t\tmarker: null,\n\t\t\tinfoWindow: null,\n\t\t\tgeocoder: null,\n\t\t\tuserListMarker: [],\n\t\t\tsingleMark: '',\n\t\t\tcurrentObjInfoWindow: '',\n\t\t\tinput5: ''\n\t\t};\n\t},\n\tmounted: function mounted() {\n\t\tthis.mapinit();\n\t},\n\n\tcomputed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"b\" /* mapState */])(['mapCenter', 'markerInfo', 'showMap'])),\n\twatch: {\n\t\t'currentObj.msg': function currentObjMsg() {\n\n\t\t\tconsole.log(\"是否删除点：\", this.currentObj.flag);\n\t\t\tif (this.currentObj.flag) {\n\t\t\t\tconsole.log(\"删除对象啊啊啊1\", this.singleMark);\n\t\t\t\tconsole.log(\"删除对象啊啊啊2\", this.map);\n\n\t\t\t\tthis.singleMark && this.singleMark.setMap(null);\n\t\t\t\tthis.singleMark = '';\n\t\t\t\tconsole.log(\"删除对象啊啊啊3\", this.singleMark);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.setSingleMark(this.currentObj);\n\t\t},\n\t\tshowMap: function showMap(flag) {\n\t\t\tif (flag && this.markerInfo && this.map && this.marker) {\n\t\t\t\tthis.map.setCenter(this.markerInfo);\n\t\t\t\tthis.marker.setPosition(this.markerInfo);\n\t\t\t\tthis.geocod(this.markerInfo);\n\t\t\t}\n\t\t},\n\t\tuserList: function userList(arr) {}\n\t},\n\tmethods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"c\" /* mapMutations */])(['updatedMarkerInfo', 'updatechatObj']), {\n\t\tmapinit: function mapinit() {\n\t\t\tvar _this = this;\n\n\t\t\twindow.onMapReady(function (googleMap) {\n\n\t\t\t\t_this.map = new googleMap.Map(document.getElementById(_this.id), {\n\t\t\t\t\tcenter: _this.markerInfo || _this.mapCenter,\n\t\t\t\t\tzoom: 11\n\t\t\t\t});\n\n\t\t\t\t_this.setSingleMark(_this.currentObj);\n\t\t\t\t_this.geocoder = new googleMap.Geocoder();\n\t\t\t\tif (_this.isShowLocation) {\n\t\t\t\t\t_this.infoWindow = new googleMap.InfoWindow();\n\t\t\t\t\t_this.marker = new googleMap.Marker({\n\t\t\t\t\t\tposition: _this.markerInfo || _this.mapCenter,\n\t\t\t\t\t\tmap: _this.map,\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\ttitle: _this.$t('myMap.position')\n\t\t\t\t\t});\n\t\t\t\t\t_this.geocod(_this.markerInfo || _this.mapCenter);\n\t\t\t\t\t_this.marker.addListener('dragend', _this.markerDragend);\n\n\t\t\t\t\t_this.marker.addListener('click', function () {\n\t\t\t\t\t\t_this.infoWindow.open(_this.map, _this.marker);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetAddress: function getAddress() {\n\t\t\tvar _this2 = this;\n\n\t\t\tif (this.input5 == '') return;\n\n\t\t\tthis.geocoder.geocode({ 'address': this.input5 }, function (results, status) {\n\t\t\t\tif (status === 'OK') {\n\t\t\t\t\t_this2.map.setCenter(results[0].geometry.location);\n\t\t\t\t\t_this2.marker.setPosition(results[0].geometry.location);\n\t\t\t\t\tvar latLng = {\n\t\t\t\t\t\tlat: results[0].geometry.location.lat(),\n\t\t\t\t\t\tlng: results[0].geometry.location.lng()\n\t\t\t\t\t};\n\t\t\t\t\t_this2.setInfoWin(latLng, results[0].formatted_address);\n\t\t\t\t\tconsole.log(results);\n\t\t\t\t} else {\n\t\t\t\t\talert('Geocode was not successful for the following reason: ' + status);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsetSingleMark: function setSingleMark(newobj) {\n\t\t\tvar _this3 = this;\n\n\t\t\tconsole.log(newobj);\n\t\t\tif (!newobj.lat) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconsole.log(\"观察msg变化  消息是：\", newobj.msg);\n\t\t\tconsole.log(\"观察msg变化  窗口对象是：\", this.currentObjInfoWindow + this.currentObjInfoWindow !== '');\n\n\t\t\tthis.map.setCenter(newobj);\n\t\t\tvar googleMap = google.maps;\n\t\t\tif (this.singleMark) {\n\t\t\t\tthis.singleMark.setPosition(newobj);\n\t\t\t} else {\n\t\t\t\tthis.singleMark = new googleMap.Marker({\n\t\t\t\t\tposition: newobj,\n\t\t\t\t\tmap: this.map,\n\t\t\t\t\ttitle: this.$t('myMap.position'),\n\t\t\t\t\tobj: newobj\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconsole.log(' this.singleMark  ', this.singleMark);\n\t\t\tvar contentString = '<div class=\"el-row\" style=\"margin-left: 0px; margin-right: 0px; margin-bottom: 0px;\">\\n                  \\t <div class=\"el-col el-col-8\" style=\"padding-left: 10px; padding-right: 10px;text-align: center\">\\n                  \\t <img src=\"' + newobj.avatar + '\" width=\"100%\" style=\"border-radius: 50%;text-align: center;\">' + newobj.nikeName + '\\n                  \\t </div>\\n                  \\t <div class=\"el-col el-col-16\" style=\"padding-left: 10px; padding-right: 10px; margin-top: 15px;\">\\n\\t\\t\\t\\t\\t' + newobj.msg + '</div></div>';\n\t\t\tif (this.currentObjInfoWindow !== '') {\n\t\t\t\tconsole.log(\"关闭上个窗口\", this.currentObjInfoWindow.close);\n\t\t\t\tthis.currentObjInfoWindow.close();\n\t\t\t}\n\t\t\tthis.currentObjInfoWindow = new google.maps.InfoWindow({\n\t\t\t\tcontent: contentString\n\t\t\t});\n\t\t\tthis.singleMark && this.singleMark.addListener('click', function () {\n\t\t\t\t_this3.currentObjInfoWindow.open(_this3.map, _this3.singleMark);\n\t\t\t});\n\t\t\tthis.currentObjInfoWindow.open(this.map, this.singleMark);\n\t\t},\n\t\tsetMarkList: function setMarkList(arr) {},\n\t\tmarkerDragend: function markerDragend(e) {\n\t\t\tvar latLng = {\n\t\t\t\tlat: e.latLng.lat(),\n\t\t\t\tlng: e.latLng.lng()\n\t\t\t};\n\t\t\tthis.geocod(latLng);\n\t\t},\n\t\tgeocod: function geocod(lagLng) {\n\t\t\tvar _this4 = this;\n\n\t\t\tthis.geocoder.geocode({\n\t\t\t\t'location': lagLng\n\t\t\t}, function (results, status) {\n\t\t\t\tif (status === google.maps.GeocoderStatus.OK) {\n\t\t\t\t\tif (results[0]) {\n\t\t\t\t\t\t_this4.setInfoWin(lagLng, results[0].formatted_address);\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.alert('No results found');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\twindow.alert('Geocoder failed due to: ' + status);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsetInfoWin: function setInfoWin(lagLng, addr) {\n\t\t\tvar str = '<div >\\n                                <h3 style=\"text-align: center\">' + this.$t(\"myMap.position\") + '</h3>\\n                                <div>' + this.$t('commom.longitude') + ':' + lagLng.lng + '</div>\\n                                <div>' + this.$t('commom.latitude') + ':' + lagLng.lat + '</div>\\n                                <div>' + this.$t('commom.addr') + ':' + addr + '</div>\\n                            </div>';\n\t\t\tthis.infoWindow.setContent(str);\n\t\t\tthis.infoWindow.open(this.map, this.marker);\n\t\t\tthis.updatedMarkerInfo({\n\t\t\t\tlat: lagLng.lat,\n\t\t\t\tlng: lagLng.lng,\n\t\t\t\taddr: addr\n\t\t\t});\n\t\t},\n\t\tonMapClick: function onMapClick(e) {}\n\t})\n});\n\n/***/ }),\n\n/***/ 631:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(533)();\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.search {\\n  position: absolute;\\n  top: 5px;\\n  z-index: 5;\\n  width: 60%;\\n  margin-left: 20%;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/AcoddingFile/codFile/JZD/JISZHOUDAOguanli/sx-chejudo-front/src/pages/components/myMap.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,mBAAmB;EACnB,SAAS;EACT,WAAW;EACX,WAAW;EACX,iBAAiB;CAClB\",\"file\":\"myMap.vue\",\"sourcesContent\":[\"\\n.search {\\n  position: absolute;\\n  top: 5px;\\n  z-index: 5;\\n  width: 60%;\\n  margin-left: 20%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 633:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(631);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(534)(\"7af23dcc\", content, true);\n\n/***/ }),\n\n/***/ 635:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"position\": \"relative\"\n    }\n  }, [(_vm.isShowLocation) ? _c('el-input', {\n    staticClass: \"search\",\n    attrs: {\n      \"size\": \"large\",\n      \"placeholder\": _vm.$t('commom.input')\n    },\n    model: {\n      value: (_vm.input5),\n      callback: function($$v) {\n        _vm.input5 = $$v\n      },\n      expression: \"input5\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"icon\": \"search\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.getAddress($event)\n      }\n    },\n    slot: \"append\"\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    style: ({\n      height: _vm.height + 'px'\n    }),\n    attrs: {\n      \"id\": _vm.id\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/53.ae4add8986c2cec04424.js","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-bc251918\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../node_modules/vux-loader/src/after-less-loader.js!less-loader?sourceMap!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./myMap.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./myMap.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bc251918\\\"}!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./myMap.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/components/myMap.vue\n// module id = 536\n// module chunks = 9 19 53","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport { mapState, mapMutations } from 'vuex'\n\n\texport default {\n\t\tprops: {\n\t\t\tuserList: {\n\t\t\t\ttype: Array,\n\t\t\t\tdefault: () => {\n\t\t\t\t\treturn []\n\t\t\t\t},\n\t\t\t},\n\t\t\tisShowLocation: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: true\n\t\t\t},\n\t\t\tcurrentObj: {\n\t\t\t\ttype: Object,\n\t\t\t\tdefault: () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmsg: '',\n\t\t\t\t\t\tavatar: '',\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tid: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: 'myMap'\n\t\t\t},\n\t\t\theight: {\n\t\t\t\ttype: [String, Number],\n\t\t\t\tdefault: '500'\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tmap: null,\n\t\t\t\tmarker: null,\n\t\t\t\tinfoWindow: null,\n\t\t\t\tgeocoder: null,\n\t\t\t\tuserListMarker: [],\n\t\t\t\tsingleMark: '',\n\t\t\t\tcurrentObjInfoWindow: '', //循环情清空\n\t\t\t\tinput5: ''\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tthis.mapinit()\n\t\t},\n\t\tcomputed: {\n\t\t\t...mapState([\n\t\t\t\t'mapCenter',\n\t\t\t\t'markerInfo',\n\t\t\t\t'showMap',\n\t\t\t]),\n\t\t},\n\t\twatch: {\n\t\t\t'currentObj.msg' () {\n\t\t\t\t//this.singleMark.setMap(null);\n\n\t\t\t\tconsole.log(\"是否删除点：\", this.currentObj.flag)\n\t\t\t\tif(this.currentObj.flag) {\n\t\t\t\t\tconsole.log(\"删除对象啊啊啊1\", this.singleMark)\n\t\t\t\t\tconsole.log(\"删除对象啊啊啊2\", this.map)\n\n\t\t\t\t\tthis.singleMark && this.singleMark.setMap(null);\n\t\t\t\t\tthis.singleMark = ''\n\t\t\t\t\tconsole.log(\"删除对象啊啊啊3\", this.singleMark)\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.setSingleMark(this.currentObj)\n\n\t\t\t},\n\t\t\tshowMap(flag) {\n\t\t\t\tif(flag && this.markerInfo && this.map && this.marker) {\n\t\t\t\t\tthis.map.setCenter(this.markerInfo);\n\t\t\t\t\tthis.marker.setPosition(this.markerInfo)\n\t\t\t\t\tthis.geocod(this.markerInfo)\n\t\t\t\t}\n\t\t\t},\n\t\t\t//\t\t\tusercenter(newLocation) {\n\t\t\t//\t\t\t\tconsole.log(\"用户位置：\",newLocation)\n\t\t\t////\t\t\t\tnewLocation!=null&&this.map.setCenter(newLocation);\n\t\t\t//\t\t\t},\n\t\t\tuserList(arr) {\n\t\t\t\t// \t\t\t\tlet list=[]\n\t\t\t\t// //\t\t\t\tconsole.log(this.userListMarker)w\n\t\t\t\t// \t\t\t\tif(arr.length==0){\n\t\t\t\t// \t\t\t\t\tfor(let i=0 ;i<this.userListMarker.length;i++){\n\t\t\t\t// \t\t\t\t\t\tthis.userListMarker[i].setMap(null);\n\t\t\t\t// \t\t\t\t\t\t\tthis.userListMarker.splice(i,1)\n\t\t\t\t// \t\t\t\t\t}\n\t\t\t\t// \t\t\t\t\treturn ;\n\t\t\t\t// \t\t\t\t}\n\t\t\t\t// \t\t\t\tarr.forEach(obj=>{\n\t\t\t\t// \t\t\t\t\tlet flag=this.userListMarker.some((item,index)=>{\n\t\t\t\t// \t\t\t\t\t\tconsole.log('in',item.obj == obj)\n\t\t\t\t// \t\t\t\t\t\tif(item.obj == obj){\n\n\t\t\t\t// \t\t\t\t\t\t}else{\n\t\t\t\t// \t\t\t\t\t\t\titem.setMap(null);\n\t\t\t\t// \t\t\t\t\t\t\tthis.userListMarker.splice(index,1)\n\t\t\t\t// \t\t\t\t\t\t}\n\t\t\t\t// \t\t\t\t\t\treturn item == obj\n\t\t\t\t// \t\t\t\t\t})\n\t\t\t\t// \t\t\t\t\tif(!flag){\n\t\t\t\t// \t\t\t\t\t\tlist.push(obj)\n\t\t\t\t// \t\t\t\t\t}\n\t\t\t\t// \t\t\t\t})\n\t\t\t\t// \t\t\t\tthis.setMarkList(list)\n\t\t\t}\n\n\t\t},\n\t\tmethods: {\n\t\t\t...mapMutations([\n\t\t\t\t'updatedMarkerInfo', 'updatechatObj'\n\t\t\t]),\n\t\t\tmapinit() {\n\t\t\t\twindow.onMapReady(googleMap => {\n\n\t\t\t\t\tthis.map = new googleMap.Map(document.getElementById(this.id), {\n\t\t\t\t\t\tcenter: this.markerInfo || this.mapCenter,\n\t\t\t\t\t\tzoom: 11\n\t\t\t\t\t});\n\t\t\t\t\t// this.setMarkList(this.userList)\n\t\t\t\t\tthis.setSingleMark(this.currentObj)\n\t\t\t\t\tthis.geocoder = new googleMap.Geocoder;\n\t\t\t\t\tif(this.isShowLocation) {\n\t\t\t\t\t\tthis.infoWindow = new googleMap.InfoWindow();\n\t\t\t\t\t\tthis.marker = new googleMap.Marker({\n\t\t\t\t\t\t\tposition: this.markerInfo || this.mapCenter,\n\t\t\t\t\t\t\tmap: this.map,\n\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\ttitle: this.$t('myMap.position')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.geocod(this.markerInfo || this.mapCenter)\n\t\t\t\t\t\tthis.marker.addListener('dragend', this.markerDragend)\n\n\t\t\t\t\t\tthis.marker.addListener('click', () => {\n\t\t\t\t\t\t\tthis.infoWindow.open(this.map, this.marker);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetAddress() {\n\t\t\t\t\n\t\t\t\tif(this.input5=='')return\n\t\t\t\t\n\t\t\t\tthis.geocoder.geocode({ 'address': this.input5 }, (results, status) => {\n\t\t\t\t\tif(status === 'OK') {\n\t\t\t\t\t\t//\t\t            resultsMap.setCenter(results[0].geometry.location);\n\t\t\t\t\t\tthis.map.setCenter(results[0].geometry.location);\n\t\t\t\t\t\tthis.marker.setPosition(results[0].geometry.location)\n\t\t\t\t\t\tlet latLng={\n\t\t\t\t\t\t\tlat:results[0].geometry.location.lat(),\n\t\t\t\t\t\t\tlng:results[0].geometry.location.lng()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setInfoWin(latLng,results[0].formatted_address)\n\t\t\t\t\t\tconsole.log(results)\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert('Geocode was not successful for the following reason: ' + status);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tsetSingleMark(newobj) {\n\t\t\t\tconsole.log(newobj)\n\t\t\t\tif(!newobj.lat) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconsole.log(\"观察msg变化  消息是：\", newobj.msg)\n\t\t\t\tconsole.log(\"观察msg变化  窗口对象是：\", this.currentObjInfoWindow + this.currentObjInfoWindow !== '')\n\n\t\t\t\tthis.map.setCenter(newobj) //中心\n\t\t\t\tconst googleMap = google.maps\n\t\t\t\tif(this.singleMark) {\n\t\t\t\t\tthis.singleMark.setPosition(newobj)\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.singleMark = new googleMap.Marker({\n\t\t\t\t\t\tposition: newobj,\n\t\t\t\t\t\tmap: this.map,\n\t\t\t\t\t\ttitle: this.$t('myMap.position'),\n\t\t\t\t\t\tobj: newobj\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tconsole.log(' this.singleMark  ', this.singleMark)\n\t\t\t\tlet contentString = `<div class=\"el-row\" style=\"margin-left: 0px; margin-right: 0px; margin-bottom: 0px;\">\n                  \t <div class=\"el-col el-col-8\" style=\"padding-left: 10px; padding-right: 10px;text-align: center\">\n                  \t <img src=\"${newobj.avatar}\" width=\"100%\" style=\"border-radius: 50%;text-align: center;\">${newobj.nikeName}\n                  \t </div>\n                  \t <div class=\"el-col el-col-16\" style=\"padding-left: 10px; padding-right: 10px; margin-top: 15px;\">\n\t\t\t\t\t${newobj.msg}</div></div>`\n\t\t\t\tif(this.currentObjInfoWindow !== '') {\n\t\t\t\t\tconsole.log(\"关闭上个窗口\", this.currentObjInfoWindow.close)\n\t\t\t\t\tthis.currentObjInfoWindow.close()\n\t\t\t\t}\n\t\t\t\tthis.currentObjInfoWindow = new google.maps.InfoWindow({\n\t\t\t\t\tcontent: contentString\n\t\t\t\t});\n\t\t\t\tthis.singleMark && this.singleMark.addListener('click', () => {\n\t\t\t\t\tthis.currentObjInfoWindow.open(this.map, this.singleMark);\n\t\t\t\t});\n\t\t\t\tthis.currentObjInfoWindow.open(this.map, this.singleMark);\n\t\t\t},\n\t\t\tsetMarkList(arr) {\n\t\t\t\t// \t\t\t\t const googleMap=google.maps\n\t\t\t\t// \t\t\t\tfor(let i = 0; i < arr.length; i++) {\n\t\t\t\t// \t\t\t\t\t//   alert(JSON.stringify(this.userList[i]))\n\n\t\t\t\t// \t\t\t\t\tlet mar = new googleMap.Marker({\n\t\t\t\t// \t\t\t\t\t\tposition: arr[i].location,\n\t\t\t\t// \t\t\t\t\t\tmap: this.map,\n\t\t\t\t// \t\t\t\t\t\ttitle: this.$t('myMap.position'),\n\t\t\t\t// \t\t\t\t\t\tobj:arr[i]\n\t\t\t\t// \t\t\t\t\t});\n\t\t\t\t// //\t\t\t\t\tconsole.log(mar)\n\t\t\t\t// \t\t\t\t\tlet contentString = `<div class=\"el-row\" style=\"margin-left: 0px; margin-right: 0px; margin-bottom: 0px;\">\n\t\t\t\t//                   \t <div class=\"el-col el-col-8\" style=\"padding-left: 10px; padding-right: 10px;\">\n\t\t\t\t//                   \t <img src=\"${arr[i].headimg}\" width=\"100%\" style=\"border-radius: 50%;\">\n\t\t\t\t//                   \t </div>\n\t\t\t\t//                   \t <div class=\"el-col el-col-16\" style=\"padding-left: 10px; padding-right: 10px; margin-top: 15px;\">\n\t\t\t\t// \t\t\t\t\t${arr[i].msg}</div></div>`\n\t\t\t\t// \t\t\t\t\tlet infowindow = new google.maps.InfoWindow({\n\t\t\t\t// \t\t\t\t\t\tcontent: contentString\n\t\t\t\t// \t\t\t\t\t});\n\t\t\t\t// \t\t\t\t\tmar.addListener('click', () => {\n\t\t\t\t// \t\t\t\t\t\tthis.updatechatObj(this.userList[i])\n\t\t\t\t// \t\t\t\t\t});\n\t\t\t\t// \t\t\t\t\tinfowindow.open(this.map, mar);\n\t\t\t\t// \t\t\t\t\tthis.userListMarker.push(mar)\n\n\t\t\t\t// }\n\t\t\t},\n\n\t\t\t//marker拖动监听\n\t\t\tmarkerDragend(e) {\n\t\t\t\tlet latLng = {\n\t\t\t\t\tlat: e.latLng.lat(),\n\t\t\t\t\tlng: e.latLng.lng()\n\t\t\t\t}\n\t\t\t\tthis.geocod(latLng)\n\t\t\t},\n\t\t\t//反向地理编码\n\t\t\tgeocod(lagLng) {\n\t\t\t\tthis.geocoder.geocode({\n\t\t\t\t\t'location': lagLng\n\t\t\t\t}, (results, status) => {\n\t\t\t\t\tif(status === google.maps.GeocoderStatus.OK) {\n\t\t\t\t\t\tif(results[0]) {\n\t\t\t\t\t\t\tthis.setInfoWin(lagLng, results[0].formatted_address)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.alert('No results found');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.alert('Geocoder failed due to: ' + status);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tsetInfoWin(lagLng, addr) {\n\t\t\t\tlet str = `<div >\n                                <h3 style=\"text-align: center\">${this.$t(\"myMap.position\")}</h3>\n                                <div>${this.$t('commom.longitude')}:${lagLng.lng}</div>\n                                <div>${this.$t('commom.latitude')}:${lagLng.lat}</div>\n                                <div>${this.$t('commom.addr')}:${addr}</div>\n                            </div>`\n\t\t\t\tthis.infoWindow.setContent(str);\n\t\t\t\tthis.infoWindow.open(this.map, this.marker);\n\t\t\t\tthis.updatedMarkerInfo({\n\t\t\t\t\tlat: lagLng.lat,\n\t\t\t\t\tlng: lagLng.lng,\n\t\t\t\t\taddr: addr\n\t\t\t\t})\n\t\t\t},\n\t\t\tonMapClick(e) {\n\n\t\t\t},\n\t\t}\n\t}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/components/myMap.vue","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.search {\\n  position: absolute;\\n  top: 5px;\\n  z-index: 5;\\n  width: 60%;\\n  margin-left: 20%;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/AcoddingFile/codFile/JZD/JISZHOUDAOguanli/sx-chejudo-front/src/pages/components/myMap.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,mBAAmB;EACnB,SAAS;EACT,WAAW;EACX,WAAW;EACX,iBAAiB;CAClB\",\"file\":\"myMap.vue\",\"sourcesContent\":[\"\\n.search {\\n  position: absolute;\\n  top: 5px;\\n  z-index: 5;\\n  width: 60%;\\n  margin-left: 20%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-bc251918\",\"scoped\":false,\"hasInlineConfig\":true}!./~/vux-loader/src/after-less-loader.js!./~/less-loader/lib/loader.js?sourceMap!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/components/myMap.vue\n// module id = 631\n// module chunks = 9 19 53","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-bc251918\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../node_modules/vux-loader/src/after-less-loader.js!../../../node_modules/less-loader/lib/loader.js?sourceMap!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./myMap.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"7af23dcc\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-bc251918\",\"scoped\":false,\"hasInlineConfig\":true}!./~/vux-loader/src/after-less-loader.js!./~/less-loader/lib/loader.js?sourceMap!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/components/myMap.vue\n// module id = 633\n// module chunks = 9 19 53","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"position\": \"relative\"\n    }\n  }, [(_vm.isShowLocation) ? _c('el-input', {\n    staticClass: \"search\",\n    attrs: {\n      \"size\": \"large\",\n      \"placeholder\": _vm.$t('commom.input')\n    },\n    model: {\n      value: (_vm.input5),\n      callback: function($$v) {\n        _vm.input5 = $$v\n      },\n      expression: \"input5\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"icon\": \"search\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.getAddress($event)\n      }\n    },\n    slot: \"append\"\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    style: ({\n      height: _vm.height + 'px'\n    }),\n    attrs: {\n      \"id\": _vm.id\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-bc251918\"}!./~/vux-loader/src/template-loader.js!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/components/myMap.vue\n// module id = 635\n// module chunks = 9 19 53"],"sourceRoot":""}